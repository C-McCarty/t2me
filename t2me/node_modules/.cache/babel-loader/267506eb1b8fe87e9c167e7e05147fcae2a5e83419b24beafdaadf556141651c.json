{"ast":null,"code":"var _jsxFileName = \"D:\\\\UMF\\\\OC\\\\08_Fall_2023\\\\ITSE-2374\\\\live-version\\\\ITSE-2374-MSG-APP\\\\t2me\\\\src\\\\comp\\\\MCCARTY\\\\login\\\\SignInForm.js\",\n  _s = $RefreshSig$();\n// Cameron McCarty\n// 09/11/2023\n\nimport { useState, useEffect } from 'react';\nimport FormInput from './FormInput';\nimport LoadingScreen from '../main/LoadingScreen';\nimport Header from '../general/Header';\nimport ResetPasswordPage from '../../TRAN/ResetPasswordPage';\nimport formClass from '../CSS/classes.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SignInForm({\n  setUser,\n  setPassword,\n  setUserID,\n  isSignedIn\n}) {\n  _s();\n  //// useState declarations\n  // Values for email, password, and confirm password input fields\n  const [email, setEmail] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const [confpwd, setConfPwd] = useState(\"\");\n\n  // Conditionals to control which form the user is seeing\n  const [newUser, setSignInState] = useState(false);\n  const [forgotPassword, setForgot] = useState(false);\n  const [emailSent, setEmailSent] = useState(false);\n  const [resetPasswordState, setResetPasswordState] = useState(false); // Set to true to test Tran's ResetPasswordPage component\n\n  // Conditionals to control validation of user input\n  const [validEmail, setEmailValidation] = useState(true);\n  const [validPwd, setValidPwd] = useState([true, true, true, true, true, true]); // Length, Upper, Lower, Number, No Spaces, All Valid\n  const [validConfPwd, setValidConfPwd] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n  const [backendValidated, setBackendValidated] = useState(false);\n\n  // Regex Email validator found here: https://stackoverflow.com/questions/46155/how-can-i-validate-an-email-address-in-javascript\n  const REGEX_MATCH = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  //// Input field handlers\n  function handleEmail(e) {\n    setEmail(e.target.value.toString());\n  }\n  function handlePwd(e) {\n    setPwd(e.target.value.toString());\n  }\n  function handleConfPwd(e) {\n    setConfPwd(e.target.value.toString());\n  }\n\n  //// Validation functions\n  function validateAll() {\n    validateEmail();\n    validatePwd();\n    validateConfPwd();\n  }\n  function validateEmail() {\n    if (email === \"\") {\n      setEmailValidation(true);\n      return;\n    }\n    if (email.toLowerCase().match(REGEX_MATCH)) {\n      setEmailValidation(true);\n      return;\n    }\n    setEmailValidation(false);\n  }\n  function validatePwd() {\n    // Length, Upper, Lower, Number, No Spaces, All Valid\n    setValidPwd([false, false, false, false, false, false]);\n    if (pwd === \"\") {\n      setValidPwd([true, true, true, true, true, true]);\n      return;\n    }\n    let MeetsLenReq = false,\n      MeetsUpperReq = false,\n      MeetsLowerReq = false,\n      MeetsNumReq = false,\n      NoSpaces = true,\n      MeetsAllReq = false;\n    if (pwd.length >= 8 && pwd.length <= 20) {\n      MeetsLenReq = true;\n    }\n    for (let i = 0; i < pwd.length; i++) {\n      if (pwd.charCodeAt(i) >= 65 && pwd.charCodeAt(i) <= 90) {\n        MeetsUpperReq = true;\n      }\n      if (pwd.charCodeAt(i) >= 97 && pwd.charCodeAt(i) <= 122) {\n        MeetsLowerReq = true;\n      }\n      if (pwd.charCodeAt(i) >= 48 && pwd.charCodeAt(i) <= 57) {\n        MeetsNumReq = true;\n      }\n      if (pwd[i] === \" \" || pwd[i] === \"\\t\") {\n        NoSpaces = false;\n      }\n      if (MeetsLenReq && MeetsUpperReq && MeetsLowerReq && MeetsNumReq && NoSpaces) {\n        MeetsAllReq = true;\n        break;\n      }\n    }\n    setValidPwd([MeetsLenReq, MeetsUpperReq, MeetsLowerReq, MeetsNumReq, NoSpaces, MeetsAllReq]);\n  }\n  function validateConfPwd() {\n    if (newUser === false) {\n      return;\n    }\n    if (confpwd === pwd || confpwd === \"\") {\n      setValidConfPwd(true);\n      return;\n    }\n    setValidConfPwd(false);\n  }\n\n  //// Form submission handler\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Cancel submit if any input is empty or if any field is invalid\n    if (email === \"\" || !forgotPassword && pwd === \"\" || newUser && confpwd === \"\" || !validEmail || !validPwd[5] || !validConfPwd) {\n      if (newUser && confpwd === \"\") setValidConfPwd(false);\n      return;\n    }\n    validateEmail();\n    if (!forgotPassword) {\n      validatePwd();\n    }\n    if (newUser) {\n      validateConfPwd();\n    }\n\n    // Handling the Forgot Password page\n    if (forgotPassword) {\n      setEmailSent(true); // Sets the page to the Email Sent Confirmation Page\n\n      /*** Email-sending code goes here ***/\n\n      return;\n    }\n    // Handling the Sign Up page\n    if (newUser) {\n      /*** Code to commit values to database goes here ***/\n\n      setEmailSent(true);\n      setForgot(true);\n      return;\n    }\n    // Handling returning users\n    else {\n      setLoading(true);\n      fetch('https://t2me-middleman.onrender.com/checkCredentialsAPI', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: pwd\n        })\n      }).then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(data);\n        setBackendValidated(data.validCredentials);\n        setLoading(false);\n        if (!backendValidated) {\n          setValidPwd([validPwd[0], validPwd[1], validPwd[2], validPwd[3], validPwd[4], false]);\n          return;\n        }\n        getUserData();\n      }).catch(error => {\n        console.error('Error:', error);\n      });\n      function getUserData() {\n        fetch(\"https://t2me-middleman.onrender.com/getUserDataAPI\").then(response => response.json()).then(data => {\n          setUser(data.userName);\n          setUserID(data.userID);\n          setPassword(pwd);\n          clearInputs();\n        }).catch(error => {\n          console.log(\"Error:\", error);\n        });\n\n        // Currently there is no backend validation so the main page always displays\n\n        // Display Main\n        isSignedIn(true);\n      }\n    }\n  }\n  //// Reset function\n  function clearInputs() {\n    setEmail(\"\");\n    setPwd(\"\");\n    setConfPwd(\"\");\n    setEmailSent(false);\n    setEmailValidation(true);\n    setValidPwd([true, true, true, true, true, true]);\n    setValidConfPwd(true);\n  }\n  //// Form-switching functions\n  function swapForm() {\n    setSignInState(!newUser);\n    clearInputs();\n  }\n  function forgotPwd() {\n    setForgot(!forgotPassword);\n    clearInputs();\n  }\n\n  /*************************************************************** Generate JSX **************************************************************/\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        minimized: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n  //////////////////////////////////////////////////////////// Password Reset Page ////////////////////////////////////////////////////////////\n  if (resetPasswordState) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ResetPasswordPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  //////////////////////////////////////// Email Sent Confirmation Page (Used for Sign Up and Forgot Password pages) ////////////////////////////////////////\n  else if (emailSent) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formWrapper\",\n        className: formClass.loginForm,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formSwapper,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: formClass.forgotPwdBackButton,\n            onClick: forgotPwd,\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Email Sent!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.confirmation,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"An email has been sent to: \", email, \". The email will be sent within the next few minutes. Please follow the instructions in the email once you receive it.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  ////////////////////////////////////////////////// Forgot Password Page (Password Reset Request form) //////////////////////////////////////////////////\n  else if (forgotPassword) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formWrapper\",\n        className: formClass.loginForm,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formSwapper,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: formClass.forgotPwdBackButton,\n            onClick: forgotPwd,\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"SignUpForm\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.inpWrap,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"email\",\n                changeFunc: handleEmail,\n                val: email,\n                blurFunc: validateEmail,\n                isValid: validEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this), validEmail ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: formClass.invalid,\n                children: \"Invalid Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.submitBtnWrap,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: formClass.submitBtn,\n              type: \"submit\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  //////////////////////////////////////////////////////////// Sign Up Page ////////////////////////////////////////////////////////////\n  else if (newUser) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formWrapper\",\n        className: formClass.loginForm,\n        \"data-testid\": \"SUE\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formSwapper,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Returning User? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: swapForm,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"SignUpForm\",\n          className: formClass.formGrid,\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.inpWrap,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"email\",\n                changeFunc: handleEmail,\n                val: email,\n                blurFunc: validateAll,\n                isValid: validEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this), validEmail ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: formClass.invalid,\n                children: \"Invalid Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"password\",\n                changeFunc: handlePwd,\n                val: pwd,\n                blurFunc: validateAll,\n                isValid: validPwd[5]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 33\n              }, this), validPwd[5] ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: formClass.invalid,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Password requires the following:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [validPwd[0] ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Must be between 8-20 characters\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 68\n                  }, this), validPwd[1] ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"An Uppercase Letter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 68\n                  }, this), validPwd[2] ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"A Lowercase Letter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 68\n                  }, this), validPwd[3] ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"A number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 68\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"confpwd\",\n                name: \"confpwd\",\n                changeFunc: handleConfPwd,\n                val: confpwd,\n                blurFunc: validateAll,\n                isValid: validConfPwd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 33\n              }, this), validConfPwd ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: formClass.invalid,\n                children: \"Passwords do not match\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.submitBtnWrap,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: formClass.submitBtn,\n              type: \"submit\",\n              \"data-testid\": \"SUB\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  //////////////////////////////////////////////////////////// Sign In Page ////////////////////////////////////////////////////////////\n  else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formWrapper\",\n        className: formClass.loginForm,\n        \"data-testid\": \"SIE\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formSwapper,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"New here? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: swapForm,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: formClass.formLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"SignInForm\",\n          className: formClass.formGrid,\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.inpWrap,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"email\",\n                changeFunc: handleEmail,\n                val: email,\n                blurFunc: validateEmail,\n                isValid: Boolean(validPwd[5] * validEmail)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 33\n              }, this), validEmail ? null : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: formClass.invalid,\n                children: \"Invalid Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: formClass.formInput,\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                inpType: \"password\",\n                changeFunc: handlePwd,\n                val: pwd,\n                isValid: validPwd[5]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this), validPwd[5] ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: formClass.invalid,\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Email or Password is incorrect.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: formClass.submitBtn,\n            type: \"submit\",\n            \"data-testid\": \"SBE\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: formClass.forgotPwdSection,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: formClass.forgotPwdButton,\n              onClick: forgotPwd,\n              children: \"Reset Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}\n_s(SignInForm, \"c+L1GFmqtHMz4mBi0CbJ8nnTxSs=\");\n_c = SignInForm;\nexport default SignInForm;\nvar _c;\n$RefreshReg$(_c, \"SignInForm\");","map":{"version":3,"names":["useState","useEffect","FormInput","LoadingScreen","Header","ResetPasswordPage","formClass","jsxDEV","_jsxDEV","Fragment","_Fragment","SignInForm","setUser","setPassword","setUserID","isSignedIn","_s","email","setEmail","pwd","setPwd","confpwd","setConfPwd","newUser","setSignInState","forgotPassword","setForgot","emailSent","setEmailSent","resetPasswordState","setResetPasswordState","validEmail","setEmailValidation","validPwd","setValidPwd","validConfPwd","setValidConfPwd","isLoading","setLoading","backendValidated","setBackendValidated","REGEX_MATCH","handleEmail","e","target","value","toString","handlePwd","handleConfPwd","validateAll","validateEmail","validatePwd","validateConfPwd","toLowerCase","match","MeetsLenReq","MeetsUpperReq","MeetsLowerReq","MeetsNumReq","NoSpaces","MeetsAllReq","length","i","charCodeAt","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","password","then","response","json","data","console","log","validCredentials","getUserData","catch","error","userName","userID","clearInputs","swapForm","forgotPwd","children","minimized","fileName","_jsxFileName","lineNumber","columnNumber","id","className","loginForm","formSwapper","forgotPwdBackButton","onClick","formLogo","confirmation","onSubmit","inpWrap","formInput","inpType","changeFunc","val","blurFunc","isValid","invalid","submitBtnWrap","submitBtn","type","formGrid","name","Boolean","forgotPwdSection","forgotPwdButton","_c","$RefreshReg$"],"sources":["D:/UMF/OC/08_Fall_2023/ITSE-2374/live-version/ITSE-2374-MSG-APP/t2me/src/comp/MCCARTY/login/SignInForm.js"],"sourcesContent":["// Cameron McCarty\r\n// 09/11/2023\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport FormInput from './FormInput';\r\nimport LoadingScreen from '../main/LoadingScreen';\r\nimport Header from '../general/Header';\r\nimport ResetPasswordPage from '../../TRAN/ResetPasswordPage';\r\nimport formClass from '../CSS/classes.module.css';\r\n\r\nfunction SignInForm({setUser, setPassword, setUserID, isSignedIn}) {\r\n    //// useState declarations\r\n    // Values for email, password, and confirm password input fields\r\n    const [email, setEmail] = useState(\"\");\r\n    const [pwd, setPwd] = useState(\"\");\r\n    const [confpwd, setConfPwd] = useState(\"\");\r\n\r\n    // Conditionals to control which form the user is seeing\r\n    const [newUser, setSignInState] = useState(false);\r\n    const [forgotPassword, setForgot] = useState(false);\r\n    const [emailSent, setEmailSent] = useState(false);\r\n    const [resetPasswordState, setResetPasswordState] = useState(false); // Set to true to test Tran's ResetPasswordPage component\r\n    \r\n    // Conditionals to control validation of user input\r\n    const [validEmail, setEmailValidation] = useState(true);\r\n    const [validPwd, setValidPwd] = useState([true, true, true, true, true, true]); // Length, Upper, Lower, Number, No Spaces, All Valid\r\n    const [validConfPwd, setValidConfPwd] = useState(true);\r\n\r\n    const [isLoading, setLoading] = useState(false);\r\n    const [backendValidated, setBackendValidated] = useState(false);\r\n\r\n    // Regex Email validator found here: https://stackoverflow.com/questions/46155/how-can-i-validate-an-email-address-in-javascript\r\n    const REGEX_MATCH = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    \r\n    //// Input field handlers\r\n    function handleEmail(e) {\r\n        setEmail(e.target.value.toString());\r\n    }\r\n    function handlePwd(e) {\r\n        setPwd(e.target.value.toString());\r\n    }\r\n    function handleConfPwd(e) {\r\n        setConfPwd(e.target.value.toString());\r\n    }\r\n\r\n    //// Validation functions\r\n    function validateAll() {\r\n        validateEmail();\r\n        validatePwd();\r\n        validateConfPwd();\r\n    }\r\n    \r\n    function validateEmail() {\r\n        if (email === \"\") {\r\n            setEmailValidation(true);\r\n            return;\r\n        }\r\n        if (email.toLowerCase().match(REGEX_MATCH)) {\r\n            setEmailValidation(true);\r\n            return;\r\n        }\r\n        setEmailValidation(false);\r\n    }\r\n    \r\n    function validatePwd() {\r\n        // Length, Upper, Lower, Number, No Spaces, All Valid\r\n        setValidPwd([false, false, false, false, false, false]);\r\n        if (pwd === \"\") {\r\n            setValidPwd([true, true, true, true, true, true]);\r\n            return;\r\n        }\r\n        let MeetsLenReq = false,\r\n            MeetsUpperReq = false,\r\n            MeetsLowerReq = false,\r\n            MeetsNumReq = false,\r\n            NoSpaces = true,\r\n            MeetsAllReq = false;\r\n        if (pwd.length >= 8 && pwd.length <= 20) { MeetsLenReq = true; }\r\n        for (let i = 0; i < pwd.length; i++) {\r\n            if (pwd.charCodeAt(i) >= 65 && pwd.charCodeAt(i) <= 90) { MeetsUpperReq = true; }\r\n            if (pwd.charCodeAt(i) >= 97 && pwd.charCodeAt(i) <= 122) { MeetsLowerReq = true; }\r\n            if (pwd.charCodeAt(i) >= 48 && pwd.charCodeAt(i) <= 57) { MeetsNumReq = true; }\r\n            if (pwd[i] === \" \" || pwd[i] === \"\\t\") { NoSpaces = false; }\r\n            if (MeetsLenReq && MeetsUpperReq && MeetsLowerReq && MeetsNumReq && NoSpaces) { MeetsAllReq = true; break; }\r\n        }\r\n\r\n        setValidPwd([MeetsLenReq, MeetsUpperReq, MeetsLowerReq, MeetsNumReq, NoSpaces, MeetsAllReq]);\r\n    }\r\n\r\n    function validateConfPwd() {\r\n        if (newUser === false) {\r\n            return;\r\n        }\r\n        if (confpwd === pwd || confpwd === \"\") {\r\n            setValidConfPwd(true);\r\n            return;\r\n        }\r\n        setValidConfPwd(false);\r\n    }\r\n\r\n    //// Form submission handler\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // Cancel submit if any input is empty or if any field is invalid\r\n        if ((email === \"\") || (!forgotPassword && pwd === \"\") || (newUser && confpwd === \"\") || !validEmail || !validPwd[5] || !validConfPwd) {\r\n            if (newUser && confpwd === \"\") setValidConfPwd(false);\r\n            return;\r\n        }\r\n\r\n        validateEmail();\r\n\r\n        if (!forgotPassword) { validatePwd(); }\r\n        if (newUser) { validateConfPwd(); }\r\n\r\n        // Handling the Forgot Password page\r\n        if (forgotPassword) {\r\n            setEmailSent(true); // Sets the page to the Email Sent Confirmation Page\r\n\r\n            /*** Email-sending code goes here ***/\r\n\r\n            return;\r\n        }\r\n        // Handling the Sign Up page\r\n        if (newUser) {\r\n\r\n            /*** Code to commit values to database goes here ***/\r\n\r\n            setEmailSent(true);\r\n            setForgot(true);\r\n            return;\r\n        }\r\n        // Handling returning users\r\n        else {\r\n            setLoading(true);\r\n\r\n            fetch('https://t2me-middleman.onrender.com/checkCredentialsAPI', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email: email, password: pwd }),\r\n            }).then((response) => {\r\n                return response.json();\r\n            }).then((data) => {\r\n                console.log(data);\r\n                setBackendValidated(data.validCredentials);\r\n                setLoading(false);\r\n                if (!backendValidated) {\r\n                    setValidPwd([validPwd[0],validPwd[1],validPwd[2],validPwd[3],validPwd[4],false]);\r\n                    return;\r\n                }\r\n                getUserData();\r\n            }).catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n\r\n            function getUserData() {\r\n\r\n                fetch(\"https://t2me-middleman.onrender.com/getUserDataAPI\").then(\r\n                    response => response.json()\r\n                ).then(\r\n                    data => {\r\n                        setUser(data.userName);\r\n                        setUserID(data.userID);\r\n                        setPassword(pwd);\r\n                        clearInputs();\r\n                    }\r\n                    ).catch(error => { console.log(\"Error:\", error) });\r\n                    \r\n                // Currently there is no backend validation so the main page always displays\r\n                \r\n                // Display Main\r\n                isSignedIn(true);\r\n            }\r\n        }\r\n    }\r\n    //// Reset function\r\n    function clearInputs() {\r\n        setEmail(\"\");\r\n        setPwd(\"\");\r\n        setConfPwd(\"\");\r\n        setEmailSent(false);\r\n        setEmailValidation(true);\r\n        setValidPwd([true, true, true, true, true, true]);\r\n        setValidConfPwd(true);\r\n    }\r\n    //// Form-switching functions\r\n    function swapForm() {\r\n        setSignInState(!newUser);\r\n        clearInputs();\r\n    }\r\n    function forgotPwd() {\r\n        setForgot(!forgotPassword);\r\n        clearInputs();\r\n    }\r\n\r\n    /*************************************************************** Generate JSX **************************************************************/\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <>\r\n                <Header minimized={true} />\r\n                <LoadingScreen />\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n    //////////////////////////////////////////////////////////// Password Reset Page ////////////////////////////////////////////////////////////\r\n    if (resetPasswordState) {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <ResetPasswordPage />\r\n            </>\r\n        )\r\n    }\r\n    //////////////////////////////////////// Email Sent Confirmation Page (Used for Sign Up and Forgot Password pages) ////////////////////////////////////////\r\n    else if (emailSent) {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div id='formWrapper' className={formClass.loginForm}>\r\n                    <div className={formClass.formSwapper}>\r\n                        <button className={formClass.forgotPwdBackButton} onClick={forgotPwd}>Go Back</button>\r\n                    </div>\r\n                    <div className={formClass.formLogo} />\r\n                    <h2>Email Sent!</h2>\r\n                    <div className={formClass.confirmation}>\r\n                        <p>An email has been sent to: {email}. The email will be sent within the next few minutes. Please follow the instructions in the email once you receive it.</p>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    ////////////////////////////////////////////////// Forgot Password Page (Password Reset Request form) //////////////////////////////////////////////////\r\n    else if (forgotPassword) {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div id='formWrapper' className={formClass.loginForm}>\r\n                    {/* //////////////////// Form Swapper Button //////////////////// */}\r\n                    <div className={formClass.formSwapper}>\r\n                        <button className={formClass.forgotPwdBackButton} onClick={forgotPwd}>Go Back</button>\r\n                    </div>\r\n                    {/* //////////////////// Logo and Title //////////////////// */}\r\n                    <div className={formClass.formLogo} />\r\n                    <h2>Forgot Password</h2>\r\n                    {/* //////////////////// Forgot Password Form //////////////////// */}\r\n                    <form id='SignUpForm' onSubmit={handleSubmit}>\r\n                        <div className={formClass.inpWrap}>\r\n                            <div className={formClass.formInput}>\r\n                                <FormInput\r\n                                    inpType=\"email\"\r\n                                    changeFunc={handleEmail}\r\n                                    val={email}\r\n                                    blurFunc={validateEmail}\r\n                                    isValid={validEmail}\r\n                                    />\r\n                                {validEmail ? null : <p className={formClass.invalid}>Invalid Email</p>}\r\n                            </div>\r\n                        </div>\r\n                        <div className={formClass.submitBtnWrap}>\r\n                            <button className={formClass.submitBtn} type='submit'>Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n    //////////////////////////////////////////////////////////// Sign Up Page ////////////////////////////////////////////////////////////\r\n    else if (newUser) {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div id='formWrapper' className={formClass.loginForm} data-testid=\"SUE\">\r\n                    {/* //////////////////// Form Swapper Button //////////////////// */}\r\n                    <div className={formClass.formSwapper}>\r\n                        <h3>Returning User? </h3>\r\n                        <button onClick={swapForm}>Sign In</button>\r\n                    </div>\r\n                    {/* //////////////////// Logo and Title //////////////////// */}\r\n                    <div className={formClass.formLogo}></div>\r\n                    <h2>Sign Up</h2>\r\n                    {/* //////////////////// Sign Up Form //////////////////// */}\r\n                    <form id='SignUpForm' className={formClass.formGrid} onSubmit={handleSubmit}>\r\n                        <div className={formClass.inpWrap}>\r\n                            <div className={formClass.formInput}>\r\n                                <FormInput\r\n                                    inpType=\"email\"\r\n                                    changeFunc={handleEmail}\r\n                                    val={email}\r\n                                    blurFunc={validateAll}\r\n                                    isValid={validEmail}\r\n                                    />\r\n                                {validEmail ? null : <p className={formClass.invalid}>Invalid Email</p>}\r\n                            </div>\r\n                            <div className={formClass.formInput}>\r\n                                <FormInput\r\n                                    inpType={\"password\"}\r\n                                    changeFunc={handlePwd}\r\n                                    val={pwd}\r\n                                    blurFunc={validateAll}\r\n                                    isValid={validPwd[5]}\r\n                                    />\r\n                                {\r\n                                    validPwd[5] ? null : <div className={formClass.invalid}>\r\n                                        <p>Password requires the following:</p>\r\n                                        <ul>\r\n                                            {validPwd[0] ? <></> : <li>Must be between 8-20 characters</li>}\r\n                                            {validPwd[1] ? <></> : <li>An Uppercase Letter</li>}\r\n                                            {validPwd[2] ? <></> : <li>A Lowercase Letter</li>}\r\n                                            {validPwd[3] ? <></> : <li>A number</li>}\r\n                                        </ul>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <div className={formClass.formInput}>\r\n                                <FormInput \r\n                                    inpType=\"confpwd\"\r\n                                    name=\"confpwd\"\r\n                                    changeFunc={handleConfPwd}\r\n                                    val={confpwd}\r\n                                    blurFunc={validateAll}\r\n                                    isValid={validConfPwd}\r\n                                    />\r\n                                {validConfPwd ? null : <p className={formClass.invalid}>Passwords do not match</p>}\r\n                            </div>\r\n                        </div>\r\n                        <div className={formClass.submitBtnWrap}>\r\n                            <button className={formClass.submitBtn} type='submit' data-testid=\"SUB\" >Sign Up</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n    //////////////////////////////////////////////////////////// Sign In Page ////////////////////////////////////////////////////////////\r\n    else {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div id='formWrapper' className={formClass.loginForm} data-testid=\"SIE\">\r\n                    {/* //////////////////// Form Swapper Button //////////////////// */}\r\n                    <div className={formClass.formSwapper}>\r\n                        <h3>New here? </h3>\r\n                        <button onClick={swapForm}>Sign Up</button>\r\n                    </div>\r\n                    {/* //////////////////// Logo and Title //////////////////// */}\r\n                    <div className={formClass.formLogo}></div>\r\n                    <h2>Sign In</h2>\r\n                    {/* //////////////////// Sign In Form //////////////////// */}\r\n                    <form id='SignInForm' className={formClass.formGrid} onSubmit={handleSubmit}>\r\n                        <div className={formClass.inpWrap}>\r\n                            <div className={formClass.formInput}>\r\n                                <FormInput\r\n                                    inpType=\"email\"\r\n                                    changeFunc={handleEmail}\r\n                                    val={email}\r\n                                    blurFunc={validateEmail}\r\n                                    isValid={Boolean(validPwd[5] * validEmail)}\r\n                                    />\r\n                                {validEmail ? null : <p className={formClass.invalid}>Invalid Email</p>}\r\n                            </div>\r\n                        \r\n                            <div className={formClass.formInput}>\r\n                                <FormInput\r\n                                    inpType=\"password\"\r\n                                    changeFunc={handlePwd}\r\n                                    val={pwd}\r\n                                    isValid={validPwd[5]}\r\n                                    />\r\n                                {\r\n                                    validPwd[5] ? null : <div className={formClass.invalid}>\r\n                                        <p>Email or Password is incorrect.</p>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <button className={formClass.submitBtn} type='submit' data-testid=\"SBE\">Sign In</button>\r\n                        <div className={formClass.forgotPwdSection}>\r\n                            <p>Forgot password?</p>\r\n                            <button className={formClass.forgotPwdButton} onClick={forgotPwd}>Reset Password</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignInForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}